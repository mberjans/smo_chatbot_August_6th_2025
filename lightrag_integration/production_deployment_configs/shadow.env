# Shadow Deployment Configuration
# Production runs in parallel for performance comparison without serving traffic

PROD_LB_ENABLED=true
PROD_LB_DEPLOYMENT_MODE=shadow
PROD_LB_TRAFFIC_PERCENT=0
PROD_LB_PERF_COMPARISON=true
PROD_LB_AUTO_FAILBACK=true
PROD_LB_ADVANCED_ALGORITHMS=true
PROD_LB_COST_OPTIMIZATION=true
PROD_LB_QUALITY_METRICS=true
PROD_LB_ROLLBACK_ERROR_RATE=10.0
PROD_LB_ROLLBACK_LATENCY_MS=10000.0

# Relaxed health settings for shadow (not serving real traffic)
PROD_LB_HEALTH_CHECK_INTERVAL=60
PROD_LB_UNHEALTHY_THRESHOLD=5
PROD_LB_CB_FAILURE_THRESHOLD=10

# Maximum monitoring for shadow mode
PROD_LB_ENABLE_MONITORING=true
PROD_LB_MONITORING_INTERVAL=30
PROD_LB_ALERT_ERROR_RATE=5.0
PROD_LB_ALERT_LATENCY_MS=5000

# Test all advanced features in shadow
PROD_LB_PRIMARY_ALGORITHM=adaptive
PROD_LB_ENABLE_ADAPTIVE=true
PROD_LB_FALLBACK_ALGORITHMS=least_connections,response_time_based,health_aware,cost_aware,quality_aware

# Enable cost optimization testing
PROD_LB_COST_TRACKING_ENABLED=true
PROD_LB_PREFER_LOW_COST_BACKENDS=true
PROD_LB_COST_WEIGHT_FACTOR=0.5